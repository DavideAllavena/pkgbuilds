# Maintainer: Muflone http://www.muflone.com/contacts/english/
# Contributor: Vladimir Navrat <vn158 at seznam dot cz>

pkgname=winscp
pkgver=5.5.2
pkgrel=1
pkgdesc="Free SFTP, SCP and FTP client for Wine"
arch=(any)
url="http://winscp.net/"
license=('GPL')
depends=(wine hicolor-icon-theme gtk-update-icon-cache desktop-file-utils)
makedepends=(unzip)
source=("http://downloads.sourceforge.net/project/winscp/WinSCP/${pkgver}/${pkgname}${pkgver//./}.zip"
        "${pkgname}"
        "${pkgname}.desktop"
        "${pkgname}-16.png"
        "${pkgname}-24.png"
        "${pkgname}-32.png"
        "${pkgname}-48.png"
        "${pkgname}-64.png"
        "${pkgname}-128.png"
        "${pkgname}-256.png"
        "${pkgname}_default_configuration.ini")
md5sums=('efcaaf3b75ee59999bcb1a549d620b3c'
         '247baf54b376f0457f218a5bd586d954'
         '9328b9fe717f1d88458839a380835e34'
         'a6def7cbc91a0817f05989626307e489'
         'c229eded9f2513d87d931559c68fccd1'
         '503427f737115381752d49cabfcc2828'
         '72e817f88f736860cfc1b57d0c86b6b4'
         'f9ecfa1cd0fb16ee31a345b3cae62fdf'
         '623e46abd044e04878950f95b7761751'
         '1e6eef82920c6e6fcd7c08b10eeca917'
         '5dae5dded6f075995af144cfb1c88bd6')
sha1sums=('8ed4c743320792d79e250f0290a6dc2cb5890f01'
          'd71f74c24567420286d018b42cacb7c5bb1b9919'
          '24d5263d6432d77d4e9ddb135b1284b45863fbde'
          '1d56f9fef331a522630a54100a9a4c58fc193f8b'
          'c75a4eaecbe64b91af317d7551989db262e6cc07'
          'be73d3d7ad6fefa6a577a025028ea397e370f476'
          '42e25ea12d6567d294d5088aaa4f1d7a3e152651'
          'c6b8b64769f283bd75a9795328e0199ed7ce4b7b'
          '3de70dccbd412ab0063ba82b651a1dd9b3453997'
          'cd6fa40c16a2d40cace21b975db60872a539206d'
          'b133988f43ca2bb3b18a231e1e46dc18f8985653')
sha256sums=('bbf698267c34645d131c2a131dadaff7dd523ea8cb480cc265465b279c4241ad'
            '322f3f8d4a29a2e5a40c057ffadf6566ff21233b5f8367a749618e5b4d845fc9'
            '67eba469b8f34ccc2342ea54b14601f13a245af5e0d4ea574786efdd33fc285c'
            '0c28369a4b35713ade79a158b4ee0e28576561c7ba0b8766dbbc0f63d0748ea2'
            'f0be502bd349e0444f1aa39c23737fd4b886370c24723e42fca5e9b45a5f513c'
            '893ed717af8ba6610874554bbd9b423daaf747a472be93ed6794486bfbcf9065'
            'fff3a8f3eff1b2eaace0c8c5c02f7be78579325c0c035a6620595bf2dea0162d'
            '8230504efe2ff8af84ddc162e492d388aeace873c12e46ebe84c68aa9221616e'
            '695540754113cbb61ee2ce4dafd0825c3f864092e805bfbb5abc05c09d16f50d'
            'd09939d5a1c964243eae5ec574148f267b5a3032e8571aba9eca3ee8eaca307f'
            'e55a284b81e55c2dfe330fd7e002b3b6f1224253a67cdf1d34dea35a26d6d1e1')

install="${pkgname}.install"
changelog="${pkgname}.changelog"

package() {
  # Install binary files
  install -m 644 -D "${srcdir}/WinSCP.exe" "${pkgdir}/usr/share/${pkgname}/${pkgname}.exe"
  # Install default configuration file
  install -m 644 -D "${srcdir}/${pkgname}_default_configuration.ini" "${pkgdir}/usr/share/${pkgname}/${pkgname}_default_configuration.ini"
  # Install startup script
  install -m 755 -D "${pkgname}" "${pkgdir}/usr/bin/${pkgname}"
  # Install icons
  for _size in 16 24 32 48 64 128 256
  do
    install -m 644 -D ${pkgname}-${_size}.png "$pkgdir/usr/share/icons/hicolor/${_size}x${_size}/apps/${pkgname}.png"
  done
  # Install desktop file
  install -m 644 -D ${pkgname}.desktop "${pkgdir}/usr/share/applications/${pkgname}.desktop"
}
