#Maintainer: Alexey Stukalov <astukalov@gmail.com>
pkgname=smartsynchronize
pkgver=3.4.1
pkgrel=1
pkgdesc="Comparing Directories the Smart Way"
arch=("any")
url="http://www.syntevo.com/smartsynchronize/index.html"
license=('custom')
depends=("java-runtime" "desktop-file-utils" "sh" "git" "gtk2")
optdepends=("mercurial: hg repositiories support")
# package version as it appears in the name of tar.gz archive file
_pkgver="${pkgver//\./_}"
# folder within tar.gz archive
_pkgfolder="$pkgname"

source=("http://www.syntevo.com/downloads/${pkgname}/${pkgname}-generic-${_pkgver}.tar.gz"
        smartsynchronize.desktop)
install="smartsynchronize.install"

md5sums=('0588dea90fe63f3da5d1be0c376ee1d7'
         'b836cc56c0ae2b200562d21136b9ce2a')

package() {
    cd "$srcdir"
    mkdir -p ${pkgdir}/usr/share/licenses/${pkgname}

    install -D -m644 "${_pkgfolder}"/licenses/* "${pkgdir}/usr/share/licenses/${pkgname}"

    mkdir -p "${pkgdir}"/opt
    mv "${_pkgfolder}" ${pkgdir}/opt/$pkgname || return 1

    install -D -m644 smartsynchronize.desktop "${pkgdir}"/usr/share/applications/${pkgname}.desktop
}
